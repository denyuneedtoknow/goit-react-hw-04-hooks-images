(this["webpackJsonpgoit-react-hw-01-components"]=this["webpackJsonpgoit-react-hw-01-components"]||[]).push([[0],{15:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2ZGdh",ImageGalleryItemPic:"ImageGalleryItem_ImageGalleryItemPic__2wMrI"}},16:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3ybRf",Modal:"Modal_Modal__5yaJu"}},31:function(e,t,a){e.exports={Button:"Button_Button__2pYmb"}},38:function(e,t,a){},39:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__1ngr2",SearchForm:"SearchBar_SearchForm__3aCc1",SearchFormButton:"SearchBar_SearchFormButton__39Lsf",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__3-N4L",SearchFormInput:"SearchBar_SearchFormInput__FmTDa"}},79:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(5),o=a.n(r),s=(a(38),a(4)),l=a(12),i=(a(17),a(39),a(27)),u=a(28),j=a(33),m=a(32),d=a(6),b=a.n(d),h=a(1),g=function(e){Object(j.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(i.a)(this,a);for(var c=arguments.length,n=new Array(c),r=0;r<c;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={keyword:""},e.handleKeywordChange=function(t){e.setState({keyword:t.currentTarget.value.toLowerCase()})},e.handleSubmit=function(t){t.preventDefault(),""!==e.state.keyword.trim()?(e.props.onSubmit(e.state.keyword),e.setState({keyword:""})):l.b.error("Enter something!")},e}return Object(u.a)(a,[{key:"render",value:function(){return Object(h.jsx)("header",{className:b.a.Searchbar,children:Object(h.jsxs)("form",{className:b.a.SearchForm,onSubmit:this.handleSubmit,children:[Object(h.jsx)("button",{type:"submit",className:b.a.SearchFormButton,children:Object(h.jsx)("span",{className:b.a.SearchFormButtonLabel,children:"Search"})}),Object(h.jsx)("input",{className:b.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:this.state.keyword,onChange:this.handleKeywordChange})]})})}}]),a}(c.Component),O=a(13),p=a(8),f=a.n(p),y=a(15),S=a.n(y);a(18);function x(e){var t=e.pictures,a=e.chosenPic,c=e.toggleModal;function n(e){c(),a(e)}return Object(h.jsx)(h.Fragment,{children:t.map((function(e){return Object(h.jsx)("li",{onClick:n,className:S.a.ImageGalleryItem,children:Object(h.jsx)("img",{src:e.webformatURL,alt:e.tags,"data-source":e.largeImageURL,className:S.a.ImageGalleryItemPic})},e.webformatURL)}))})}var v=a(29),_=a.n(v),I=a(16),w=a.n(I);var F=function(e){var t=e.toggleModal,a=e.children;Object(c.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(h.jsx)("div",{className:w.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(h.jsx)("div",{className:w.a.Modal,children:a})}),document.getElementById("modalRoot"))},k=a(2),B=a.n(k),N=a(30),G=a.n(N);function L(e,t,a,c){return G.a.get("".concat(t,"?key=").concat(a,"&page=").concat(c,"&q=").concat(e,"&image_type=photo&per_page=12")).then((function(e){return e.data.hits}))}L.PropTypes={nextInputValue:B.a.string,baseApi:B.a.string,APIkey:B.a.string,page:B.a.string};var M=a(31),C=a.n(M);function P(e){var t=e.onLoadMoreClick;return Object(h.jsx)("button",{className:C.a.Button,type:"button",onClick:t,children:"Load more"})}var E=function(e){var t=e.request,a=e.startPage,n=Object(c.useState)(a),r=Object(s.a)(n,2),o=r[0],l=r[1],i=Object(c.useState)([]),u=Object(s.a)(i,2),j=u[0],m=u[1],d=Object(c.useState)(""),b=Object(s.a)(d,2),g=b[0],p=b[1],y=Object(c.useState)(!1),S=Object(s.a)(y,2),v=S[0],I=S[1],w=Object(c.useState)("idle"),k=Object(s.a)(w,2),B=k[0],N=k[1],G=Object(c.useState)(null),M=Object(s.a)(G,2),C=M[0],E=M[1],T=Object(c.useState)(""),R=Object(s.a)(T,2),A=R[0],q=R[1];Object(c.useEffect)((function(){t&&(q(t),t!==A&&(l(1),console.log("".concat(A," for ").concat(t))),N("pending"),L(t,"https://pixabay.com/api/","22968833-cf9b798f42870513c2372fa03",o).then((function(e){m(1!==o?[].concat(Object(O.a)(j),Object(O.a)(e)):Object(O.a)(e)),N("resolve"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){N("rejected"),E(e)})))}),[t,o,A]);var D=function(e){p(e.target.dataset.source)},J=function(){I(!v)};return"idle"===B?Object(h.jsx)("div",{}):"pending"===B?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("ul",{className:f.a.ImageGallery,children:Object(h.jsx)(x,{pictures:j,chosenPic:D,toggleModal:J})}),Object(h.jsx)(_.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80})]}):"rejected"===B?Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:f.a.rejection,children:C})}):"resolve"===B?0===j.length?Object(h.jsx)("div",{children:Object(h.jsx)("div",{className:f.a.rejection,children:"Sorry, no matches found"})}):Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("ul",{className:f.a.ImageGallery,children:Object(h.jsx)(x,{pictures:j,chosenPic:D,toggleModal:J})}),v&&Object(h.jsx)(F,{toggleModal:J,children:Object(h.jsx)("img",{className:"modalImage",src:g,alt:""})}),Object(h.jsx)(P,{onLoadMoreClick:function(){l(o+1)}})]}):void 0};var T=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),o=Object(s.a)(r,2),i=o[0],u=o[1];return Object(h.jsxs)("div",{className:"App",children:[Object(h.jsx)(g,{onSubmit:function(e){n(e),u(1)}}),Object(h.jsx)(E,{request:a,startPage:i}),Object(h.jsx)(l.a,{autoClose:3e3})]})};o.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(T,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3pyWo",rejection:"ImageGallery_rejection__1duDb"}}},[[79,1,2]]]);
//# sourceMappingURL=main.336c5059.chunk.js.map