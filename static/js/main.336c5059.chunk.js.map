{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/Button/Button.module.css","Components/SearchBar/SearchBar.module.css","Components/SearchBar/SearchBar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/Modal/Modal.js","Components/Services/PicFinderAPI.js","Components/Button/Button.js","Components/ImageGallery/ImageGallery.js","App.js","index.js","Components/ImageGallery/ImageGallery.module.css"],"names":["module","exports","SearchBar","state","keyword","handleKeywordChange","event","setState","currentTarget","value","toLowerCase","handleSubmit","e","preventDefault","trim","props","onSubmit","toast","error","className","s","Searchbar","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","pictures","chosenPic","toggleModal","onItemClick","map","pic","onClick","src","webformatURL","alt","tags","largeImageURL","ImageGalleryItemPic","Modal","children","useEffect","window","addEventListener","handleEscape","removeEventListener","code","createPortal","Overlay","target","document","getElementById","fetchPictures","nextInputValue","baseApi","APIkey","nextPage","axios","get","then","r","data","hits","PropTypes","string","page","Button","onLoadMoreClick","ImageGallery","request","startPage","useState","setPage","setPictures","setChosenPic","showModal","setShowModal","status","setStatus","setError","searchValue","setSearchValue","console","log","scrollTo","top","documentElement","scrollHeight","behavior","catch","chosePic","dataset","source","color","height","width","rejection","length","App","setKeyword","autoClose","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.336c5059.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__2ZGdh\",\"ImageGalleryItemPic\":\"ImageGalleryItem_ImageGalleryItemPic__2wMrI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3ybRf\",\"Modal\":\"Modal_Modal__5yaJu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2pYmb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__1ngr2\",\"SearchForm\":\"SearchBar_SearchForm__3aCc1\",\"SearchFormButton\":\"SearchBar_SearchFormButton__39Lsf\",\"SearchFormButtonLabel\":\"SearchBar_SearchFormButtonLabel__3-N4L\",\"SearchFormInput\":\"SearchBar_SearchFormInput__FmTDa\"};","// import React from \"react\";\r\nimport PropTypes from 'prop-types';\r\nimport { Component } from \"react\";\r\nimport s from \"./SearchBar.module.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nexport default class SearchBar extends Component {\r\n  state = {\r\n    keyword: \"\",\r\n\r\n  };\r\n  handleKeywordChange = (event) => {\r\n    this.setState({ keyword: event.currentTarget.value.toLowerCase() });\r\n  };\r\n  handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (this.state.keyword.trim() === \"\") {\r\n      toast.error(\"Enter something!\");\r\n\r\n      return;\r\n    }\r\n    this.props.onSubmit(this.state.keyword);\r\n    this.setState({ keyword: \"\" });\r\n  };\r\n\r\n\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <form className={s.SearchForm} onSubmit={this.handleSubmit}>\r\n          <button type=\"submit\" className={s.SearchFormButton}>\r\n            <span className={s.SearchFormButtonLabel}>Search</span>\r\n          </button>\r\n          <input\r\n            className={s.SearchFormInput}\r\n            type=\"text\"\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n            value={this.state.keyword}\r\n            onChange={this.handleKeywordChange}\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\nSearchBar.propTypes = {\r\n  onSubmit: PropTypes.func,\r\n}\r\n","import PropTypes from 'prop-types';\r\nimport s from \"./ImageGalleryItem.module.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\n\r\n\r\nexport default function ImageGalleryItem({ pictures, chosenPic, toggleModal }) {\r\n\r\n  function onItemClick(e) {\r\n    toggleModal();\r\n    chosenPic(e);\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {pictures.map((pic) => {\r\n        return (<li onClick={onItemClick} key={pic.webformatURL} className={s.ImageGalleryItem}><img src={pic.webformatURL} alt={pic.tags} data-source={pic.largeImageURL} className={s.ImageGalleryItemPic} /></li>)\r\n      })}\r\n    </>)\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string,\r\n  tags: PropTypes.string,\r\n  toggleModal: PropTypes.func,\r\n  chosenPic: PropTypes.func,\r\n  largeImageURL: PropTypes.string,\r\n};","import PropTypes from 'prop-types';\r\nimport { useEffect } from \"react\";\r\nimport { createPortal } from 'react-dom';\r\nimport s from \"./Modal.module.css\";\r\n\r\n\r\nfunction Modal({ toggleModal, children }) {\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', handleEscape);\r\n        return () => {\r\n            window.removeEventListener('keydown', handleEscape);\r\n        };\r\n    });\r\n\r\n\r\n    const handleEscape = e => {\r\n        if (e.code === 'Escape') {\r\n            toggleModal();\r\n        }\r\n    };\r\n\r\n    const handleClose = e => {\r\n        if (e.currentTarget === e.target) {\r\n            toggleModal();\r\n        }\r\n    };\r\n\r\n\r\n\r\n    return createPortal(\r\n        <div className={s.Overlay} onClick={handleClose}>\r\n            <div className={s.Modal}>{children}</div>\r\n        </div>,\r\n        document.getElementById('modalRoot'),\r\n    );\r\n}\r\n\r\nModal.propTypes = {\r\n    handleClose: PropTypes.func,\r\n}\r\n\r\nexport default Modal","import PropTypes from 'prop-types';\r\nimport axios from 'axios';\r\n\r\nexport function fetchPictures(nextInputValue, baseApi, APIkey, nextPage) {\r\n\r\n    return axios\r\n        .get(\r\n            `${baseApi}?key=${APIkey}&page=${nextPage}&q=${nextInputValue}&image_type=photo&per_page=12`\r\n        )\r\n        .then(r => { return r.data.hits });\r\n\r\n}\r\nfetchPictures.PropTypes = {\r\n    nextInputValue: PropTypes.string,\r\n    baseApi: PropTypes.string,\r\n    APIkey: PropTypes.string,\r\n    page: PropTypes.string,\r\n}\r\n\r\n","import s from \"./Button.module.css\"\r\nimport PropTypes from 'prop-types';\r\n\r\n\r\n\r\nexport default function Button({ onLoadMoreClick }) {\r\n    return (\r\n        <button className={s.Button} type=\"button\" onClick={onLoadMoreClick}>\r\n            Load more\r\n        </button>\r\n    );\r\n}\r\nButton.propTypes = {\r\n    onLoadMoreClick: PropTypes.func,\r\n};","import s from \"./ImageGallery.module.css\";\r\nimport PropTypes from 'prop-types';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem'\r\nimport { useState, useEffect } from \"react\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport Modal from '../Modal'\r\nimport { fetchPictures } from '../Services/PicFinderAPI';\r\nimport Button from '../Button/Button'\r\n\r\n\r\nconst baseApi = 'https://pixabay.com/api/';\r\nconst APIkey = '22968833-cf9b798f42870513c2372fa03';\r\nfunction ImageGallery({ request, startPage }) {\r\n\r\n    const [page, setPage] = useState(startPage);\r\n    const [pictures, setPictures] = useState([]);\r\n    const [chosenPic, setChosenPic] = useState('');\r\n    const [showModal, setShowModal] = useState(false);\r\n    const [status, setStatus] = useState('idle')\r\n    const [error, setError] = useState(null);\r\n    const [searchValue, setSearchValue] = useState('')\r\n\r\n\r\n    useEffect(() => {\r\n\r\n        if (!request) {\r\n            return;\r\n        }\r\n        setSearchValue(request)\r\n\r\n        if (request !== searchValue) {\r\n            setPage(1)\r\n\r\n            console.log(`${searchValue} for ${request}`);\r\n        }\r\n\r\n        setStatus('pending')\r\n\r\n        fetchPictures(request, baseApi, APIkey, page)\r\n\r\n            .then((data) => {\r\n                if (page !== 1) { setPictures([...pictures, ...data]) }\r\n                else { setPictures([...data]) }\r\n                setStatus('resolve')\r\n                window.scrollTo({\r\n                    top: document.documentElement.scrollHeight,\r\n                    behavior: 'smooth',\r\n                });\r\n            }).catch(error => {\r\n                setStatus('rejected');\r\n                setError(error)\r\n            });\r\n    }, [request, page, searchValue,])\r\n\r\n\r\n\r\n\r\n    const chosePic = e => {\r\n        setChosenPic(e.target.dataset.source)\r\n    };\r\n\r\n    const toggleModal = () => {\r\n        setShowModal(!showModal)\r\n\r\n    };\r\n\r\n    const onLoadMoreClick = () => {\r\n        setPage(page + 1)\r\n\r\n    };\r\n\r\n\r\n    if (status === 'idle') {\r\n        return <div></div>;\r\n    }\r\n\r\n    if (status === 'pending') {\r\n\r\n        return (\r\n            <>\r\n                <ul className={s.ImageGallery}>\r\n                    <ImageGalleryItem pictures={pictures} chosenPic={chosePic} toggleModal={toggleModal} />\r\n                </ul>\r\n                <Loader type=\"TailSpin\" color=\"#00BFFF\" height={80} width={80} /></>\r\n        );\r\n    }\r\n\r\n    if (status === 'rejected') {\r\n        return (\r\n            <div>\r\n                <div className={s.rejection}>{error}</div>\r\n            </div>\r\n        )\r\n    }\r\n    if (status === 'resolve') {\r\n        if (pictures.length === 0) {\r\n            return (\r\n                <div>\r\n                    <div className={s.rejection}>Sorry, no matches found</div>\r\n                </div>\r\n            )\r\n        }\r\n\r\n        return (\r\n            <>\r\n                <ul className={s.ImageGallery}>\r\n                    <ImageGalleryItem pictures={pictures} chosenPic={chosePic} toggleModal={toggleModal} />\r\n                </ul>\r\n                {showModal && (\r\n                    <Modal toggleModal={toggleModal}>\r\n                        <img className=\"modalImage\" src={chosenPic} alt=\"\" />\r\n                    </Modal>\r\n                )}\r\n                <Button onLoadMoreClick={onLoadMoreClick} />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nImageGallery.propTypes = {\r\n    request: PropTypes.string,\r\n};\r\n\r\nexport default ImageGallery","import { useState } from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"./App.css\";\r\nimport SearchBar from \"./Components/SearchBar\";\r\nimport ImageGallery from \"./Components/ImageGallery/ImageGallery\"\r\n\r\n\r\nfunction App() {\r\n    const [keyword, setKeyword] = useState('')\r\n    const [page, setPage] = useState(null)\r\n\r\n\r\n\r\n    const handleFormSubmit = (keyword) => {\r\n        setKeyword(keyword);\r\n        setPage(1)\r\n\r\n    };\r\n\r\n    return (\r\n        <div className='App'>\r\n            <SearchBar onSubmit={handleFormSubmit} />\r\n            <ImageGallery request={keyword} startPage={page} />\r\n            <ToastContainer autoClose={3000} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default App","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3pyWo\",\"rejection\":\"ImageGallery_rejection__1duDb\"};"],"sourceRoot":""}