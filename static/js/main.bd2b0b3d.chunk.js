(this["webpackJsonpgoit-react-hw-01-components"]=this["webpackJsonpgoit-react-hw-01-components"]||[]).push([[0],{15:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__2ZGdh",ImageGalleryItemPic:"ImageGalleryItem_ImageGalleryItemPic__2wMrI"}},16:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3ybRf",Modal:"Modal_Modal__5yaJu"}},29:function(e,t,a){e.exports={Button:"Button_Button__2pYmb"}},34:function(e,t,a){},35:function(e,t,a){},6:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__1ngr2",SearchForm:"SearchBar_SearchForm__3aCc1",SearchFormButton:"SearchBar_SearchFormButton__39Lsf",SearchFormButtonLabel:"SearchBar_SearchFormButtonLabel__3-N4L",SearchFormInput:"SearchBar_SearchFormInput__FmTDa"}},75:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(5),o=a.n(r),s=(a(34),a(4)),l=a(12),i=(a(17),a(35),a(6)),u=a.n(i),j=a(1);var m=function(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(s.a)(a,2),r=n[0],o=n[1];return Object(j.jsx)("header",{className:u.a.Searchbar,children:Object(j.jsxs)("form",{className:u.a.SearchForm,onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):l.b.error("Enter something!")},children:[Object(j.jsx)("button",{type:"submit",className:u.a.SearchFormButton,children:Object(j.jsx)("span",{className:u.a.SearchFormButtonLabel,children:"Search"})}),Object(j.jsx)("input",{className:u.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})},b=a(13),d=a(8),h=a.n(d),g=a(15),O=a.n(g);a(18);function p(e){var t=e.pictures,a=e.chosenPic,c=e.toggleModal;function n(e){c(),a(e)}return Object(j.jsx)(j.Fragment,{children:t.map((function(e){return Object(j.jsx)("li",{onClick:n,className:O.a.ImageGalleryItem,children:Object(j.jsx)("img",{src:e.webformatURL,alt:e.tags,"data-source":e.largeImageURL,className:O.a.ImageGalleryItemPic})},e.webformatURL)}))})}var f=a(27),x=a.n(f),v=a(16),S=a.n(v);var _=function(e){var t=e.toggleModal,a=e.children;Object(c.useEffect)((function(){return window.addEventListener("keydown",n),function(){window.removeEventListener("keydown",n)}}));var n=function(e){"Escape"===e.code&&t()};return Object(r.createPortal)(Object(j.jsx)("div",{className:S.a.Overlay,onClick:function(e){e.currentTarget===e.target&&t()},children:Object(j.jsx)("div",{className:S.a.Modal,children:a})}),document.getElementById("modalRoot"))},y=a(2),I=a.n(y),F=a(28),B=a.n(F);function w(e,t,a,c){return B.a.get("".concat(t,"?key=").concat(a,"&page=").concat(c,"&q=").concat(e,"&image_type=photo&per_page=12")).then((function(e){return e.data.hits}))}w.PropTypes={nextInputValue:I.a.string,baseApi:I.a.string,APIkey:I.a.string,page:I.a.string};var N=a(29),G=a.n(N);function L(e){var t=e.onLoadMoreClick;return Object(j.jsx)("button",{className:G.a.Button,type:"button",onClick:t,children:"Load more"})}var M="https://pixabay.com/api/",k="22968833-cf9b798f42870513c2372fa03";var P=function(e){var t=e.request,a=(e.startPage,Object(c.useState)(1)),n=Object(s.a)(a,2),r=n[0],o=n[1],l=Object(c.useState)([]),i=Object(s.a)(l,2),u=i[0],m=i[1],d=Object(c.useState)(""),g=Object(s.a)(d,2),O=g[0],f=g[1],v=Object(c.useState)(!1),S=Object(s.a)(v,2),y=S[0],I=S[1],F=Object(c.useState)("idle"),B=Object(s.a)(F,2),N=B[0],G=B[1],P=Object(c.useState)(null),C=Object(s.a)(P,2),E=C[0],T=C[1],R=Object(c.useState)(""),q=Object(s.a)(R,2),A=q[0],D=q[1];Object(c.useEffect)((function(){t&&(D(t),t!==A&&o(1),G("pending"),w(t,M,k,r).then((function(e){1===r&&m(Object(b.a)(e)),G("resolve")})).catch((function(e){G("rejected"),T(e)})))}),[A,t,r]);var J=function(e){f(e.target.dataset.source)},U=function(){I(!y)};return"idle"===N?Object(j.jsx)("div",{}):"pending"===N?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("ul",{className:h.a.ImageGallery,children:Object(j.jsx)(p,{pictures:u,chosenPic:J,toggleModal:U})}),Object(j.jsx)(x.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80})]}):"rejected"===N?Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:h.a.rejection,children:E})}):"resolve"===N?0===u.length?Object(j.jsx)("div",{children:Object(j.jsx)("div",{className:h.a.rejection,children:"Sorry, no matches found"})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("ul",{className:h.a.ImageGallery,children:Object(j.jsx)(p,{pictures:u,chosenPic:J,toggleModal:U})}),y&&Object(j.jsx)(_,{toggleModal:U,children:Object(j.jsx)("img",{className:"modalImage",src:O,alt:""})}),Object(j.jsx)(L,{onLoadMoreClick:function(){o(r+1),w(t,M,k,r+1).then((function(e){m([].concat(Object(b.a)(u),Object(b.a)(e))),G("resolve"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})}))}})]}):void 0};var C=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(null),o=Object(s.a)(r,2),i=o[0],u=o[1];return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)(m,{onSubmit:function(e){n(e),u(1)}}),Object(j.jsx)(P,{request:a,startPage:i}),Object(j.jsx)(l.a,{autoClose:3e3})]})};o.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(C,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__3pyWo",rejection:"ImageGallery_rejection__1duDb"}}},[[75,1,2]]]);
//# sourceMappingURL=main.bd2b0b3d.chunk.js.map